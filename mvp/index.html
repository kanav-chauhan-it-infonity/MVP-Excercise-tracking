<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Physical Therapy Assistant</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils/camera_utils.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/control_utils/control_utils.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/drawing_utils/drawing_utils.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/pose/pose.js" crossorigin="anonymous"></script>
</head>
<body>
    <div class="container">
        <header>
            <h1>AI Physical Therapy Assistant</h1>
            <p>Get real-time feedback on your exercise form</p>
        </header>

        <div class="exercise-selector">
            <label for="exercise-type">Select Exercise:</label>
            <select id="exercise-type">
                <option value="quadruped">Basic Rock/Sit-back Movement</option>
                <option value="toe-drive">Toe Drive Movement</option>
            </select>
        </div>

        <div class="video-container">
            <video id="webcam" autoplay playsinline></video>
            <canvas id="output-canvas"></canvas>
            <div class="video-overlay" id="video-overlay">
                <div class="posture-status" id="posture-status">
                    <div class="status-message">Position yourself in the starting pose...</div>
                    <div class="status-details" id="status-details"></div>
                </div>
            </div>
        </div>

        <div class="controls">
            <button id="skip-pose-check" class="btn btn-outline">
                <span class="btn-icon">‚è≠Ô∏è</span>
                Skip Pose Check
            </button>
            <button id="start-recording" class="btn btn-primary" disabled>
                <span class="btn-icon">üìπ</span>
                Start Recording
            </button>
            <button id="stop-recording" class="btn btn-secondary" disabled>
                <span class="btn-icon">‚èπÔ∏è</span>
                Stop Recording
            </button>
            <button id="play-recording" class="btn btn-success" disabled>
                <span class="btn-icon">‚ñ∂Ô∏è</span>
                Play Analysis
            </button>
        </div>

        <div class="recording-timer" id="recording-timer" style="display: none;">
            <div class="timer-circle">
                <span id="timer-text">30</span>
            </div>
            <div class="timer-label">Recording...</div>
        </div>

        <div class="feedback-section" id="feedback-section" style="display: none;">
            <h3>Exercise Analysis</h3>
            <div class="feedback-content" id="feedback-content"></div>
            <div class="performance-stats" id="performance-stats" style="display: none;"></div>
        </div>

        <div class="return-section">
            <a href="https://yoursite.squarespace.com" class="btn btn-outline" target="_blank">
                <span class="btn-icon">üîô</span>
                Return to Your Site
            </a>
        </div>
    </div>

    <script src="pose-detection.js"></script>
    <script src="app.js"></script>
</body>
</html>
